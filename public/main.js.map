{"version":3,"file":"main.js","sources":["../source/config.js","../source/Views/Story.js","../source/main.js"],"sourcesContent":["export default {\n  base: 'https://api.hackerwebapp.com/'\n}\n","import config from '../config.js'\n\nvar pageSize = 20\n\nexport default function (type) {\n  return {\n    loading: true,\n    items: [],\n    oninit: function (vnode) {\n      this.loading = true\n      var page = m.route.param('page') || 1\n      var url = config.base + type + '?page=' + page\n      var self = this\n      m.request(url)\n      .then(function (items) {\n        self.items = items\n        self.loading = false\n      })\n    },\n    view: function () {\n      if (this.loading) {\n        return m('.loading')\n      }\n      // use the for padawan to go fasta\n      var ret = []\n      for (var i = 0; i < this.items.length; i++) {\n        var item = this.items[i]\n        ret.push(m('h4', m('a[href=' + item.url + '][target=_blank]', item.title)))\n      }\n      return ret\n    }\n  }\n}\n","var root = document.getElementById('container')\n\nif ('serviceWorker' in navigator) {\n  window.addEventListener('load', function() {\n    navigator.serviceWorker.register('/sw.js').then(function(registration) {\n      // Registration was successful\n      console.log('ServiceWorker registration successful with scope: ', registration.scope);\n    }, function(err) {\n      // registration failed :(\n      console.log('ServiceWorker registration failed: ', err);\n    });\n  });\n}\n\nimport Story from './Views/Story.js'\n\nexport default {\n  router: m.route(root, '/', {\n    '/'  : Story('news'),\n    '/news/:page'  : Story('news'),\n    '/newest/:page': Story('newest'),\n    '/ask/:page'   : Story('ask'),\n    '/show/:page'  : Story('show'),\n    '/jobs/:page'  : Story('jobs'),\n  })\n}\n"],"names":["base","type","loading","items","oninit","vnode","this","page","m","route","param","url","config","self","request","then","view","ret","i","length","item","push","title","root","document","getElementById","navigator","window","addEventListener","serviceWorker","register","registration","console","log","scope","err","router","/","Story","/news/:page","/newest/:page","/ask/:page","/show/:page","/jobs/:page"],"mappings":"iCAAA,OACEA,KAAM,mCCGO,SAAUC,GACvB,OACEC,SAAS,EACTC,SACAC,OAAQ,SAAUC,GAChBC,KAAKJ,SAAU,EACf,IAAIK,EAAOC,EAAEC,MAAMC,MAAM,SAAW,EAChCC,EAAMC,EAAOZ,KAAOC,EAAO,SAAWM,EACtCM,EAAOP,KACXE,EAAEM,QAAQH,GACTI,KAAK,SAAUZ,GACdU,EAAKV,MAAQA,EACbU,EAAKX,SAAU,KAGnBc,KAAM,WACJ,GAAIV,KAAKJ,QACP,OAAOM,EAAE,YAIX,IAAK,IADDS,KACKC,EAAI,EAAGA,EAAIZ,KAAKH,MAAMgB,OAAQD,IAAK,CAC1C,IAAIE,EAAOd,KAAKH,MAAMe,GACtBD,EAAII,KAAKb,EAAE,KAAMA,EAAE,UAAYY,EAAKT,IAAM,mBAAoBS,EAAKE,SAErE,OAAOL,KC7BTM,EAAOC,SAASC,eAAe,mBAE/B,kBAAmBC,WACrBC,OAAOC,iBAAiB,OAAQ,WAC9BF,UAAUG,cAAcC,SAAS,UAAUf,KAAK,SAASgB,GAEvDC,QAAQC,IAAI,qDAAsDF,EAAaG,QAC9E,SAASC,GAEVH,QAAQC,IAAI,sCAAuCE,QAQvDC,OAAQ5B,EAAEC,MAAMc,EAAM,KACpBc,IAAOC,EAAM,QACbC,cAAiBD,EAAM,QACvBE,gBAAiBF,EAAM,UACvBG,aAAiBH,EAAM,OACvBI,cAAiBJ,EAAM,QACvBK,cAAiBL,EAAM"}